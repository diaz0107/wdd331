<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,user-scalable=yes">
  <meta name="description" content="Downloadable code examples for CSS Master, 3rd edition.">

  <title>  How opacity affects stacking context
 CSS Master (third edition)</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@700&family=Inconsolata&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Zilla+Slab:ital,wght@0,700;1,700&family=IBM+Plex+Mono&display=swap">
  <link rel="stylesheet" href="/theme/css/global.css">

  <link rel="stylesheet" href="../../theme/css/grid-base.css" id="Grid_CSS">


  <style>
    .wrapper {
      height: 50rem;
    }

    .rel {
      position: relative;
      min-height: 30rem;
    }

    div {
      min-width: 30rem;
      padding: 1rem;
    }

    form {
      margin: 3.2rem 0;
    }

    [for="opacity"] {
      font-weight: bold;
    }

    [id=b], [id=c], [id=d], [id=e], [id=f], [id=g] {
      position: absolute;
    }

    [id=b], [id=c], [id=e] {
      height: 10rem;
      line-height: 5rem;
      width: 40rem;
    }

    [id=a] {
      background: rgba(233, 30, 99, 0.5);
      height: 20rem;
      text-align: right;
      width: 50rem;
    }

    [id=b] {
      background: rgba(103, 58, 183, 0.8);
      bottom: 12rem;
      width: 41rem;
      z-index: 2;
    }

    [id=c] {
      background: rgba(255, 235, 59, 0.8);
      top: 19rem;
      z-index: 1;
    }

    [id=d], [id=f], [id=g] {
      width: 30rem;
    }

    [id=d] {
      background: #03a9f4;
      height: 100%;
      top: 1rem;
      z-index: -1;
    }
    [id=d] p {
      position: absolute;
      bottom: 3rem;
    }

    [id=e] {
      background: rgba(255, 87, 34, 0.7);
      top: 11rem;
      z-index: 1;
    }

    [id=f], [id=g] {
      height: 20rem;
      line-height: 10rem;
      width: 40rem;
    }

    [id=f] {
      background: rgba(255, 193, 7, 0.9);
    }
    [id=f] p {
      background: #222222;
      color: whitesmoke;
      position: relative;
      padding-left: 1rem;
      z-index: 1;
    }

    .opa {
      opacity: .999;
    }

    [id=g] {
      background: rgba(3, 169, 244, 0.7);
      top: 5rem;
      left: 10rem;
    }
    [id=g] p {
      bottom: 0;
      line-height: 1;
      position: absolute;
      right: 1rem;
    }

    #output {font-size: inherit;}
  </style>

</head>

<body >
  <header id="top">
    <div>
      <h1><i>CSS Master</i> Code Examples</h1>
  <nav aria-label="Breadcrumb">
    <ol>
      <li><a href="../../">Home</a></li>
      <li>
          <a href="../">CSS Layout</a>
      </li>
      <li><a href="./" aria-current="page">How opacity affects stacking context</a></li>
    </ol>
  </nav>
    </div>
  </header>
  <!-- end header -->

  <main>
  <h2>How opacity affects stacking context</h2>



  <p>Toggle the control above to switch the opacity of <code>div#f</code> between 0.99 and 1. The black backgrounded paragraph is a child of <code>div#f</code> with <code>z-index: 1</code> applied.</p>
<p><code>opacity</code> values less than <code>1</code> create a local stacking context. Child elements are stacked within their parent. Elements in other stacking contexts can't (and won't) be stacked in between a child layer and its parent layer. <code>opacity</code> is not the only property that can <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context">trigger</a> a local stacking context. Other properties include <code>transform</code> and <code>filter</code> when the value is something besides <code>none</code></p>
<form>
     <p class="mono"><label for="opacity">opacity: </label><b id="output">1</b><br>
     <input type="range" min=".99" max="1" step=".01" id="opacity" name="opacity" class="toggle"></p>
 </form>

<div class="rel">
    <div id="f">
        <p><b>div#f</b></p>
    </div>

    <div id="g">
        <p><b>div#g</b></p>
    </div>
</div>


  </main>

  <!-- Global site footer -->
  <footer class="global">
    <p>Examples from <i>CSS Master</i> (3rd edition) written by Tiffany B. Brown and published by SitePoint, Ltd. &copy; 2015 &ndash; 2021.</p>
  </footer>

  <script src="/theme/js/escapereset.js"></script>

  <script>
    var opacity = document.getElementById('opacity');

    opacity.addEventListener('change', function(e){
        var op = document.getElementById('output');
        document.getElementById('f').classList.toggle('opa');
        op.replaceChild(document.createTextNode(e.target.value), op.firstChild);
    });
  </script>
</body>
</html>